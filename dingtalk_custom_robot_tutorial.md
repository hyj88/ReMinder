# 钉钉自定义机器人创建与配置详细教程

本教程将详细介绍如何在钉钉中创建自定义机器人，并获取Webhook URL和安全设置（如签名密钥）的步骤。

## 1. 登录钉钉并进入目标群聊

1. 打开钉钉客户端或网页版钉钉
2. 使用您的账号登录
3. 在左侧导航栏中找到并点击"消息"选项
4. 在消息列表中找到您要添加机器人的群聊
5. 点击进入该群聊

*截图描述：钉钉主界面，左侧导航栏显示"消息"选项，右侧为群聊列表*

## 2. 在群聊中添加自定义机器人

1. 进入群聊后，点击右上角的"群设置"图标（通常是一个齿轮或三个点的图标）
2. 在群设置菜单中，找到并点击"智能群助手"或"机器人"选项
3. 点击"添加机器人"按钮
4. 在机器人类型列表中，选择"自定义"机器人

*截图描述：群设置界面，显示"智能群助手"或"机器人"选项，以及"添加机器人"按钮*

## 3. 配置机器人名称和安全设置（加签方式）

1. 在创建自定义机器人页面，输入机器人的名称（例如：我的通知机器人）
2. 在安全设置部分，选择"加签"方式（推荐，更安全）
3. 勾选"加签"选项后，系统会生成一个签名密钥（SEC开头的一串字符）
4. 请务必保存好这个签名密钥，后续发送消息时需要用到
5. 也可以选择"IP地址"白名单方式（可选），填写允许访问的IP地址
6. 点击"完成"按钮

*截图描述：创建自定义机器人页面，显示机器人名称输入框和安全设置选项，重点突出加签方式和生成的签名密钥*

## 4. 获取Webhook URL和签名密钥

1. 创建完成后，系统会显示机器人的Webhook URL
2. Webhook URL通常以"https://oapi.dingtalk.com/robot/send?access_token="开头
3. 同时记录下之前生成的签名密钥
4. 这两个信息将用于后续在应用中发送消息到钉钉群

*截图描述：机器人创建成功页面，显示Webhook URL和签名密钥*

## 5. 在应用中配置这些信息的步骤

1. 打开您的应用程序配置文件（如.env文件或配置页面）
2. 添加以下配置项：
   - `DINGTALK_WEBHOOK_URL`: 设置为获取到的Webhook URL
   - `DINGTALK_SECRET`: 设置为获取到的签名密钥
3. 保存配置文件
4. 在代码中使用这些配置信息来发送消息到钉钉群：
   - 使用Webhook URL作为请求地址
   - 使用签名密钥生成签名，添加到请求参数中
5. 测试消息发送功能，确保配置正确

*截图描述：应用程序配置文件示例，显示DINGTALK_WEBHOOK_URL和DINGTALK_SECRET配置项*

## 注意事项

1. Webhook URL和签名密钥是敏感信息，请妥善保管，不要泄露
2. 如果怀疑信息泄露，请及时在钉钉中重新生成
3. 钉钉机器人有发送频率限制，请合理使用
4. 不同版本的钉钉客户端界面可能略有差异，但基本操作流程一致

通过以上步骤，您就可以成功创建钉钉自定义机器人并获取必要的配置信息，用于在应用程序中发送通知消息了。